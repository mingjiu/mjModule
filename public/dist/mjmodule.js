!function(window){function moduleLoad(e){if("0"!==v){var o=/mj_module_/;for(var a in localStorage)o.test(a)&&(moduleMap.hasOwnProperty(a.substr(10))?modules[a.substr(10)]=localStorage[a]:delete localStorage[a])}for(var l in e)modules[l]=e[l],localStorage["mj_module_"+l]=e[l];for(var d in moduleMap)toEval(d)}function toEval(m){if(moduleMap[m].deps)for(var i=0;i<moduleMap[m].deps.length;i++)toEval(moduleMap[m].deps[i]),eval(modules[m]),moduleMap[m].loaded=!0;else moduleMap[m].loaded||(eval(modules[m]),moduleMap[m].loaded=!0)}function httpGetModule(e,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.responseText);localStorage.mj_moduleVersion=e.version,o(e.data)}},a.open("GET",window.location.origin+"/getModule?version="+e),a.send()}window.setVersion=function(){localStorage.mj_moduleVersion=1,localStorage.mj_module_deltest='(functin(){console.log("test");})()'};var newestVersion="3",modules={},moduleMap={A:{},abc:{},B:{},base:{deps:["Man","Man2"]},C:{},dom:{deps:["Man"]},Man:{deps:["Man2"]},Man2:{}},v=localStorage.mj_moduleVersion?localStorage.mj_moduleVersion:"0";"0"==v||v!=newestVersion?httpGetModule(v,function(e){moduleLoad(e)}):moduleLoad()}(window);